# Ethereum BIP39 Recovery - GPU Worker

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ 24-—Å–ª–æ–≤–Ω–æ–π BIP39 –º–Ω–µ–º–æ–Ω–∏–∫–∏ –¥–ª—è Ethereum —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GPU —É—Å–∫–æ—Ä–µ–Ω–∏—è.

## –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

- **–ò–∑–≤–µ—Å—Ç–Ω–æ**: –ü–µ—Ä–≤—ã–µ 20 —Å–ª–æ–≤ –º–Ω–µ–º–æ–Ω–∏–∫–∏ (–ø–æ–∑–∏—Ü–∏–∏ 0-19)
- **–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ**: –ü–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Å–ª–æ–≤–∞ (–ø–æ–∑–∏—Ü–∏–∏ 20-23)
- **–í—Å–µ–≥–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π**: 2048‚Å¥ = 17,592,186,044,416 (17.6 —Ç—Ä–∏–ª–ª–∏–æ–Ω–æ–≤)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: 344 –º–ª–Ω Ethereum –∞–¥—Ä–µ—Å–æ–≤ —Å –±–∞–ª–∞–Ω—Å–æ–º

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   bip39-solver-server (Node.js)     ‚îÇ  ‚Üê –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
‚îÇ   - –†–∞–∑–¥–∞—ë—Ç –∑–∞–¥–∞–Ω–∏—è (batches)       ‚îÇ
‚îÇ   - –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å                ‚îÇ
‚îÇ   - –•—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (SQLite)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚îÇ HTTP API (JSON)
             ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                 ‚îÇ            ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Worker ‚îÇ      ‚îÇ Worker ‚îÇ   ‚îÇ Worker ‚îÇ  ‚Üê GPU Workers (Rust)
‚îÇ  GPU 1 ‚îÇ      ‚îÇ  GPU 2 ‚îÇ   ‚îÇ  GPU N ‚îÇ
‚îÇ  + DB  ‚îÇ      ‚îÇ  + DB  ‚îÇ   ‚îÇ  + DB  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. eth_recovery (—ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç)
GPU Worker –Ω–∞ Rust:
- –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è –æ—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–Ω–µ–º–æ–Ω–∏–∫–∏ –Ω–∞ GPU
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–¥—Ä–µ—Å–∞ –ø–æ –ë–î
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 2. bip39-solver-server
–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞ Node.js:
- API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è/–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
- SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

### 3. eth20240925
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤:
- 357M –∑–∞–ø–∏—Å–µ–π (344M —Å –±–∞–ª–∞–Ω—Å–æ–º)
- 12 –±–∞–π—Ç –Ω–∞ –∑–∞–ø–∏—Å—å (4B hash + 8B addr_suffix)
- ~4.3 GB —Ä–∞–∑–º–µ—Ä
- Binary search O(log n)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Rust 1.70+
- OpenCL (GPU drivers)
- Node.js 16+ (–¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```bash
cd ../bip39-solver-server
npm install
node index.js
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:3000`

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GPU Worker

```bash
cd eth_recovery
cargo build --release
```

### 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `eth20240925` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –≤ `src/main.rs`:

```rust
const DATABASE_PATH: &str = "–ø—É—Ç—å/–∫/eth20240925";
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### config.json

```json
{
  "known_words": [
    "switch", "over", "fever", "flavor", "real",
    "jazz", "vague", "sugar", "throw", "steak",
    "yellow", "salad", "crush", "donate", "three",
    "base", "baby", "carbon", "control", "false"
  ],
  "missing_positions": [20, 21, 22, 23],
  "total_words": 24,
  "database_path": "eth20240925",
  "derivation_path": "m/44'/60'/0'/0/0",
  "addresses_to_check": 10
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ src/main.rs

```rust
const WORK_SERVER_URL: &str = "http://localhost:3000";
const WORK_SERVER_SECRET: &str = "secret";
const DATABASE_PATH: &str = "eth20240925";
```

## –ó–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

```bash
cd ../bip39-solver-server
node index.js
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å GPU Worker

```bash
cd eth_recovery
cargo run --release
```

### 3. –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö GPU

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ worker –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö –∏–ª–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ GPU:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
CUDA_VISIBLE_DEVICES=0 cargo run --release

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
CUDA_VISIBLE_DEVICES=1 cargo run --release
```

## API –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### GET /work?secret=SECRET
–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ:
```json
{
  "indices": [123, 456, 789, 101],
  "offset": 1234567890,
  "batch_size": 1000000
}
```

### POST /work
–û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ:
```json
{
  "offset": "1234567890",
  "secret": "secret"
}
```

### POST /mnemonic
–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```json
{
  "mnemonic": "switch over ... word23 word24",
  "eth_address": "0x...",
  "offset": "1234567890",
  "secret": "secret"
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
eth_recovery/
‚îú‚îÄ‚îÄ Cargo.toml                  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Rust
‚îú‚îÄ‚îÄ config.json                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Å–ª–æ–≤–∞)
‚îú‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.rs                 # –ì–ª–∞–≤–Ω—ã–π GPU Worker
‚îÇ   ‚îî‚îÄ‚îÄ db_loader.rs            # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–∏—Å–∫ –≤ –ë–î
‚îÇ
‚îú‚îÄ‚îÄ cl/                         # OpenCL kernels
‚îÇ   ‚îú‚îÄ‚îÄ eth_recovery_main.cl    # –ì–ª–∞–≤–Ω—ã–π kernel
‚îÇ   ‚îú‚îÄ‚îÄ keccak256.cl            # Keccak –¥–ª—è ETH –∞–¥—Ä–µ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ sha2.cl                 # SHA2 –¥–ª—è PBKDF2
‚îÇ   ‚îú‚îÄ‚îÄ secp256k1_*.cl          # ECDSA –¥–ª—è BIP44
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ eth20240925                 # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ (–Ω–µ –≤ git)
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û—Ü–µ–Ω–∫–∏ (RTX 4090):

- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: ~2-5 –º–ª–Ω –∫–æ–º–±–∏–Ω–∞—Ü–∏–π/—Å–µ–∫
- **–° BIP39‚ÜíSeed**: ~500k –∫–æ–º–±–∏–Ω–∞—Ü–∏–π/—Å–µ–∫
- **–° BIP44**: ~200k –∫–æ–º–±–∏–Ω–∞—Ü–∏–π/—Å–µ–∫
- **–° DB lookup**: ~100-200k –∫–æ–º–±–∏–Ω–∞—Ü–∏–π/—Å–µ–∫

### –í—Ä–µ–º—è –Ω–∞ 1 GPU:
- 17.6 —Ç—Ä–∏–ª–ª–∏–æ–Ω–æ–≤ / 200k = **88 –º–ª–Ω —Å–µ–∫—É–Ω–¥** = ~2.8 –≥–æ–¥–∞

### –í—Ä–µ–º—è –Ω–∞ 100 GPU:
- 2.8 –≥–æ–¥–∞ / 100 = **~10 –¥–Ω–µ–π**

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vast.ai

### 1. –°–æ–∑–¥–∞—Ç—å Docker –æ–±—Ä–∞–∑

```dockerfile
FROM rust:1.70
RUN apt-get update && apt-get install -y ocl-icd-opencl-dev
WORKDIR /app
COPY . .
RUN cargo build --release
CMD ["./target/release/eth_recovery"]
```

### 2. –ó–∞–ø—É—Å–∫ –Ω–∞ Vast.ai

```bash
# –ê—Ä–µ–Ω–¥–∞ GPU
vastai search offers 'gpu_name=RTX_4090 num_gpus=1'

# –ó–∞–ø—É—Å–∫ instance
vastai create instance <INSTANCE_ID> \
  --image your-docker-image \
  --env WORK_SERVER_URL=http://your-server:3000
```

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ **–ì–æ—Ç–æ–≤–æ:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- Database loader —Å binary search
- API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ README

‚ö†Ô∏è **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:**
- OpenCL kernel –¥–ª—è BIP39
- PBKDF2-HMAC-SHA512 –Ω–∞ GPU
- BIP44 derivation –Ω–∞ GPU
- Keccak256 –¥–ª—è ETH –∞–¥—Ä–µ—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DB lookup –≤ kernel

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å OpenCL kernel** (`cl/eth_recovery_main.cl`)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SHA2/PBKDF2
   - –î–æ–±–∞–≤–∏—Ç—å BIP44 derivation
   - –î–æ–±–∞–≤–∏—Ç—å Keccak256

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–Ω–µ–º–æ–Ω–∏–∫
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∞–¥—Ä–µ—Å–∞—Ö
   - Benchmark –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - Tuning batch size
   - Memory coalescing
   - Work group optimization

4. **Deployment**
   - Docker –æ–±—Ä–∞–∑
   - CI/CD –¥–ª—è Vast.ai
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- –•—Ä–∞–Ω–∏—Ç–µ `WORK_SERVER_SECRET` –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ë–î –≤ git
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è production
- –®–∏—Ñ—Ä—É–π—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –º–Ω–µ–º–æ–Ω–∏–∫–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –∏–∑ [johncantrell97/bip39-solver-gpu](https://github.com/johncantrell97/bip39-solver-gpu).

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ä–µ—à–µ–Ω–∏—è:
1. Worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –º–Ω–µ–º–æ–Ω–∏–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/mnemonic` endpoint –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û** –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ—à–µ–ª—ë–∫
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã—Å–æ–∫–∏–π gas price –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

---

**–£–¥–∞—á–∏ –≤ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏! üöÄ**
